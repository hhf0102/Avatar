(this.webpackJsonpavatar=this.webpackJsonpavatar||[]).push([[0],{32:function(t,a,e){t.exports=e.p+"static/media/pokeball.2b4798f5.svg"},33:function(t,a,e){t.exports=e.p+"static/media/pikachu.2d5ba1aa.svg"},34:function(t,a,e){t.exports=e.p+"static/media/bulbasaur.046230a2.svg"},35:function(t,a,e){t.exports=e.p+"static/media/squirtle.bf99537f.svg"},36:function(t,a,e){t.exports=e.p+"static/media/eevee.3c0ae52b.svg"},37:function(t,a,e){t.exports=e.p+"static/media/gengar.c35557fd.svg"},38:function(t,a,e){t.exports=e.p+"static/media/charmander.bdb8ff2f.svg"},39:function(t,a,e){t.exports=e.p+"static/media/jigglypuff.95d6187a.svg"},40:function(t,a,e){t.exports=e.p+"static/media/meowth.e78d19db.svg"},42:function(t,a,e){t.exports=e(66)},66:function(t,a,e){"use strict";e.r(a);var r,i=e(0),n=e.n(i),o=e(16),c=e.n(o),s=e(26),u=e(6),v=e(2),f=e(8),l=e(67),m=Object(l.a)({SET_TARGET_POSITION:function(t){return{targetPosition:t}},SET_MY_POSITION:function(t,a){return{position:t,index:a}},SET_TARGET_RESET:function(t,a){return{position:t,index:a}},SET_TEAM_A_H_P:function(t){return{hp:t}},SET_TEAM_B_H_P:function(t){return{hp:t}}},"SET_GAME_OVER"),p=m.setTargetPosition,O=m.setMyPosition,d=m.setTargetReset,g=m.setTeamAHP,h=m.setTeamBHP,H=m.setGameOver,b=e(32),y=e.n(b),j=e(3),E=e(68);function x(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,r)}return e}function w(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?x(e,!0).forEach((function(a){Object(j.a)(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):x(e).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var P=Object(E.a)((r={},Object(j.a)(r,p,(function(t,a){var e=a.payload.targetPosition,r=e[0]<600?t.myPositionA.findIndex((function(t){return t[0]===e[0]&&t[1]===e[1]})):t.myPositionB.findIndex((function(t){return t[0]===e[0]&&t[1]===e[1]}));return e[0]<600?w({},t,{targetPositionListA:w({},t.targetPositionListA,Object(j.a)({},"avatar".concat(r),{isHit:!0}))}):w({},t,{targetPositionListB:w({},t.targetPositionListB,Object(j.a)({},"avatar".concat(r),{isHit:!0}))})})),Object(j.a)(r,O,(function(t,a){var e=a.payload,r=e.position;e.index;return r[0]<600?w({},t,{myPositionA:[].concat(Object(u.a)(t.myPositionA),[r])}):w({},t,{myPositionB:[].concat(Object(u.a)(t.myPositionB),[r])})})),Object(j.a)(r,d,(function(t,a){var e=a.payload,r=e.position,i=e.index;return r[0]<600?w({},t,{targetPositionListA:w({},t.targetPositionListA,Object(j.a)({},"avatar".concat(i),{isHit:!1}))}):w({},t,{targetPositionListB:w({},t.targetPositionListB,Object(j.a)({},"avatar".concat(i),{isHit:!1}))})})),Object(j.a)(r,g,(function(t,a){var e=a.payload.hp;return w({},t,{teamAHp:t.teamAHp>0?t.teamAHp-e:0})})),Object(j.a)(r,h,(function(t,a){var e=a.payload.hp;return w({},t,{teamBHp:t.teamBHp>0?t.teamBHp-e:0})})),Object(j.a)(r,H,(function(t){return w({},t,{gameOver:!0})})),r),{gameOver:!1,teamAHp:1e4,teamBHp:1e4,myPositionA:[],myPositionB:[],targetPositionListA:{avatar0:{isHit:!1},avatar1:{isHit:!1},avatar2:{isHit:!1},avatar3:{isHit:!1},avatar4:{isHit:!1},avatar5:{isHit:!1},avatar6:{isHit:!1},avatar7:{isHit:!1},avatar8:{isHit:!1},avatar9:{isHit:!1},avatar10:{isHit:!1},avatar11:{isHit:!1},avatar12:{isHit:!1},avatar13:{isHit:!1},avatar14:{isHit:!1},avatar15:{isHit:!1},avatar16:{isHit:!1},avatar17:{isHit:!1},avatar18:{isHit:!1},avatar19:{isHit:!1},avatar20:{isHit:!1},avatar21:{isHit:!1},avatar22:{isHit:!1},avatar23:{isHit:!1},avatar24:{isHit:!1}},targetPositionListB:{avatar0:{isHit:!1},avatar1:{isHit:!1},avatar2:{isHit:!1},avatar3:{isHit:!1},avatar4:{isHit:!1},avatar5:{isHit:!1},avatar6:{isHit:!1},avatar7:{isHit:!1},avatar8:{isHit:!1},avatar9:{isHit:!1},avatar10:{isHit:!1},avatar11:{isHit:!1},avatar12:{isHit:!1},avatar13:{isHit:!1},avatar14:{isHit:!1},avatar15:{isHit:!1},avatar16:{isHit:!1},avatar17:{isHit:!1},avatar18:{isHit:!1},avatar19:{isHit:!1},avatar20:{isHit:!1},avatar21:{isHit:!1},avatar22:{isHit:!1},avatar23:{isHit:!1},avatar24:{isHit:!1}}}),A=function(t){return t.teamAHp},_=function(t){return t.teamBHp},T=function(t){var a=t.index,e=t.avatarX,r=t.avatarY,o=t.avatarOffsetX,c=t.avatarOffsetY,s=t.avatarListARow,l=t.avatarListACol,m=t.options,H=t.avatarListOffsetY,b=t.avatarIcon,j=t.gameOverA,E=t.gameOverB,x=Object(v.useApp)(),w=Object(f.c)(),P=Object(i.useRef)(!1),A=[],_=1,T=Object(i.useRef)(Object(u.a)(Array(a+1)).map((function(){return Object(i.createRef)()}))),S=Math.round(20*Math.random()-10),B=Object(f.d)(e<m.width/2?function(t){return function(a){return a.targetPositionListA["avatar".concat(t)].isHit}}(a):function(t){return function(a){return a.targetPositionListB["avatar".concat(t)].isHit}}(a)),M=Object(i.useRef)(Object(u.a)(Array(a+1)).map((function(){return Object(i.createRef)()}))),L=Object(i.useRef)(),R=Object(i.useRef)();L.current=j,R.current=E;var k=[e,r];return Object(i.useEffect)((function(){var t;w(O(k,a)),x.ticker.add((t=a,function(){var a=T.current[t].current;a.angle+=_,(a.angle>15||a.angle<-15)&&(_*=-1)})),setInterval((function(){P.current||B||L.current||R.current||function(t){return function(){P.current=!0;var a=T.current[t].current,e=M.current[t].current,i=e.x,n=e.y,u=a.y-60;a.vy=5,e.alpha=1,A=a.x>m.width/2?[o*Math.floor(Math.random()*l+1),H+c*Math.floor(Math.random()*s)]:[m.width-o*Math.floor(Math.random()*l+1),H+c*Math.floor(Math.random()*s)];x.ticker.add((function t(){a.y-=a.vy,a.y<u&&(a.vy*=-1),a.y>=r&&(a.vy=0,a.y=r,x.ticker.remove(t))}));var v,f,O=(v=k,f=A,function(){(e.vx>0&&e.x>A[0]||e.vx<0&&e.x<A[0])&&(P.current=!1,w(A[0]>m.width/2?h(500):g(500)),w(p(A)),e.vx=0,e.vy=0,x.ticker.remove(O),e.x=i,e.y=n,e.alpha=0),e.vx=(f[0]-v[0])/100,e.vy=(f[1]-v[1])/100,e.x+=e.vx,e.y+=e.vy});x.ticker.add(O)}}(a)()}),Math.floor(6e4*Math.random()+1e3))}),[]),Object(i.useEffect)((function(){var t=T.current[a].current;B&&(t.x<m.width/2?t.angle=-90:t.angle=90,setTimeout((function(){w(d([e,r],a))}),1e3))}),[B]),n.a.createElement(i.Fragment,null,n.a.createElement(v.Sprite,{image:b,width:50,height:50,anchor:.5,angle:S,x:e,y:r,ref:T.current[a]}),n.a.createElement(v.Sprite,{image:y.a,width:15,height:15,anchor:.5,alpha:0,x:e,y:r,ref:M.current[a]}))},S=new(e(1).p)({fill:"white",fontSize:12}),B=function(t){var a=t.position,e=t.healthHeight,r=t.angle,o=void 0===r?0:r,c=t.setGameOverState,s=Object(f.c)(),u=Object(f.d)(a.x<750?A:_),l=u/1e4*280,m="".concat(u," / ").concat(1e4),p={x:a.x,y:a.y,angle:o},O=180===o?{x:p.x-140,y:p.y-e/2}:{x:p.x+140,y:p.y+e/2};return Object(i.useEffect)((function(){0===u&&(c(!0),s(H()))}),[u]),n.a.createElement(i.Fragment,null,n.a.createElement(v.Graphics,Object.assign({draw:function(t){t.beginFill(8388608),t.drawRect(0,0,280,e),t.endFill()}},p)),n.a.createElement(v.Graphics,Object.assign({draw:function(t){t.clear(),t.beginFill(16711680),t.drawRect(0,0,l,e),t.endFill()}},p)),n.a.createElement(v.Text,{text:m,anchor:.5,style:S,x:O.x,y:O.y}))},M=e(33),L=e.n(M),R=e(34),k=e.n(R),I=e(35),G=e.n(I),X=e(36),D=e.n(X),F=e(37),Y=e.n(F),C=e(38),N=e.n(C),V=e(39),W=e.n(V),J=e(40),U=e.n(J),q=[L.a,k.a,G.a,D.a,Y.a,N.a,W.a,U.a],z=function(){return Object(u.a)(Array(100)).map((function(t,a){return{user:a,avatar:q[Math.floor(Math.random()*q.length)],gift:Math.floor(1e3*Math.random())}}))},$=z().sort((function(t,a){return a.gift-t.gift})),K=z().sort((function(t,a){return a.gift-t.gift})),Q=function(t){var a=t.render,e=t.Context,r=t.children;return n.a.createElement(e.Consumer,null,(function(t){return a(n.a.createElement(e.Provider,{value:t},r))}))},Z={width:window.innerWidth-15,height:450,transparent:!1},tt=function(){var t=Object(u.a)(Array(25)),a=Object(u.a)(Array(25)),e=function(t){return 375-75*Math.floor(t/5)},r=function(t){return 100+t%5*75},o=function(t){return Z.width-e(t)},c=function(t){return r(t)},l={x:Z.width-75,y:40},m=Object(i.useState)(!1),p=Object(s.a)(m,2),O=p[0],d=p[1],g=Object(i.useState)(!1),h=Object(s.a)(g,2),H=h[0],b=h[1],y={avatarOffsetX:75,avatarOffsetY:75,avatarListARow:5,avatarListACol:5,options:Z,avatarListOffsetY:100};return n.a.createElement(Q,{Context:f.b,render:function(t){return n.a.createElement(v.Stage,{options:Z},t)}},n.a.createElement(i.Fragment,null,n.a.createElement(B,{position:{x:70,y:20},healthHeight:20,setGameOverState:d}),n.a.createElement(v.Container,{position:[0,0],alpha:O?.5:1},t.map((function(t,a){return n.a.createElement(T,Object.assign({key:a,index:a,avatarIcon:$[a].avatar,avatarX:e(a),avatarY:r(a),gameOverA:O,gameOverB:H},y))})))),n.a.createElement(i.Fragment,null,n.a.createElement(B,{position:l,healthHeight:20,angle:180,setGameOverState:b}),n.a.createElement(v.Container,{position:[0,0],alpha:H?.5:1},a.map((function(t,a){return n.a.createElement(T,Object.assign({key:a,index:a,avatarIcon:K[a].avatar,avatarX:o(a),avatarY:c(a),gameOverA:O,gameOverB:H},y))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at=e(18),et=Object(at.b)(P,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(n.a.createElement(f.a,{store:et},n.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.af29e5a5.chunk.js.map